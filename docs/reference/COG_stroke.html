<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Stroke-Based Center of Gravity (COG) — cog_stroke • coglyphr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Stroke-Based Center of Gravity (COG) — cog_stroke"><meta name="description" content="Computes the center of gravity (COG) of a character-like binary image using its stroke region."><meta property="og:description" content="Computes the center of gravity (COG) of a character-like binary image using its stroke region."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">coglyphr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9010</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/mutopsy/coglyphr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Stroke-Based Center of Gravity (COG)</h1>
      <small class="dont-index">Source: <a href="https://github.com/mutopsy/coglyphr/blob/HEAD/R/cog_stroke.r"><code>R/cog_stroke.r</code></a></small>
      <div class="d-none name"><code>cog_stroke.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the center of gravity (COG) of a character-like binary image using its stroke region.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cog_stroke</span><span class="op">(</span><span class="va">img</span>, origin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, <span class="st">"topleft"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-img">img<a class="anchor" aria-label="anchor" href="#arg-img"></a></dt>
<dd><p>An image input, either a file path to an image file (e.g., PNG, JPEG),
or a <code>cimg</code> object from the <span class="pkg">imager</span> package. The image should be in binary form,
with foreground (glyph) values not equal to 1 and background values equal to 1.</p></dd>


<dt id="arg-origin">origin<a class="anchor" aria-label="anchor" href="#arg-origin"></a></dt>
<dd><p>A character string indicating the location of the image origin.
Use <code>"bottomleft"</code> (default) if the y-axis increases upward (Cartesian),
or <code>"topleft"</code> if the y-axis increases downward (as in image arrays).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing:</p><dl><dt><code>statistics</code></dt>
<dd><p>A data frame with computed center coordinates (original, trimmed, and standardized),
margins around the glyph, and original image dimensions. The center is calculated based on the stroke region</p></dd>

<dt><code>strokes</code></dt>
<dd><p>A data frame of (x, y) coordinates representing the stroke (non-white) region.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In the stroke-based method, the COG is defined as the arithmetic mean of the (x, y) coordinates
of all pixels that belong to the stroke region, i.e., the foreground pixels whose intensity values
are not equal to 1 (pure white). This approach assumes that each stroke pixel has unit mass and
contributes equally to the center calculation. The image is assumed to be binary, where the background
pixels have a value of 1, and all other pixels are treated as part of the glyph.</p>
<p>Mathematically, the stroke-based center of gravity \((G_x, G_y)\) is defined as the weighted mean of pixel coordinates
within the stroke region, where each pixel contributes a value of 1 (unit mass) and background pixels are excluded.
Specifically, let \(p(x, y)\) be an indicator function such that \(p(x, y) = 1\) if the pixel \((x, y)\)
belongs to the stroke region, and \(p(x, y) = 0\) otherwise. Then the horizontal and vertical components
of the COG are computed as:</p>
<p>$$
G_x = (\sum_{x=1}^{w} \sum_{y=1}^{h} p(x, y) \cdot x) / (\sum_{x=1}^{w} \sum_{y=1}^{h} p(x, y))
$$
$$
G_y = (\sum_{x=1}^{w} \sum_{y=1}^{h} p(x, y) \cdot y) / (\sum_{x=1}^{w} \sum_{y=1}^{h} p(x, y))
$$</p>
<p>where \(w\) and \(h\) denote the width and height of the image, respectively.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="fu">cog_stroke</span><span class="op">(</span><span class="va">img_A</span>, origin <span class="op">=</span> <span class="st">"bottomleft"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hiroyuki Muto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

